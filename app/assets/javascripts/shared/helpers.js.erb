window.Helpers = {
  controller: function() {
    return document.body.getAttribute("data-controller");
  },
  action: function() {
    return document.body.getAttribute("data-action");
  },
  parts: function() {
    return (document.body.getAttribute("data-parts") || "").split(" ");
  },
  user_id: function() {
    return document.body.getAttribute("data-user-id");
  },
  user_screen_name: function() {
    return document.body.getAttribute("data-user-screen-name");
  },
  tweet_id: function() {
    return document.body.getAttribute("data-tweet-id");
  },
  authenticity_token: function() {
    return document.querySelector("meta[name=csrf-token]").getAttribute("content");
  },
  openTwitterIntent: function(url) {
    var w = 550;
    var h = 420;
    var sh = window.screen.height;
    var sw = window.screen.width;
    var left = Math.round(sw / 2 - w / 2);
    var top = sh > h && Math.round(sh / 2 - h / 2) || 0;
    var options = "scrollbars=yes, resizable=yes, toolbar=no, location=yes, width=" + w + ", height=" + h + ", left=" + left + ", top=" + top;
    window.open(url, null, options);
  },
  given_parameters: function() {
    var query = {};
    var parameters = window.location.search.substring(1).split("&");
    parameters.forEach(function(item) {
      if (item.length > 0) {
        var ite = item.split("=");
        query[decodeURIComponent(ite[0])] = decodeURIComponent(ite[1]);
      }
    });
    return query;
  }
};
